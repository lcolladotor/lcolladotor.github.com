<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Windows | L. Collado-Torres</title>
    <link>/tags/windows/</link>
      <atom:link href=http://lcolladotor.github.io/tags/windows/index.xml rel="self" type="application/rss+xml" />
    <description>Windows</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>¬© 2011-2020 Leonardo Collado Torres under (CC) BY-NC-SA 4.0. All thoughts and opinions here are my own. Icon is the [R logo](https://www.r-project.org/logo/) modified</copyright><lastBuildDate>Wed, 18 Sep 2019 00:00:00 +0000</lastBuildDate>
    <image>
      <url>img/map[gravatar:%!s(bool=false) shape:circle]</url>
      <title>Windows</title>
      <link>/tags/windows/</link>
    </image>
    
    <item>
      <title>Windows user space issues with installing R packages</title>
      <link>/2019/09/18/windows-user-space-issues-with-installing-r-packages/</link>
      <pubDate>Wed, 18 Sep 2019 00:00:00 +0000</pubDate>
      <guid>/2019/09/18/windows-user-space-issues-with-installing-r-packages/</guid>
      <description>


&lt;p&gt;Are you a Microsoft Windows &lt;code&gt;R&lt;/code&gt; user? Does your Windows username include a space? Like &lt;code&gt;Firstname Lastname&lt;/code&gt;. Then you might occassionally run into issues installing packages due to spaces.&lt;/p&gt;
&lt;div id=&#34;solutions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Solutions&lt;/h3&gt;
&lt;p&gt;You could either re-install Windows with a username that has no spaces such as &lt;code&gt;Lastname&lt;/code&gt; &lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;, but that‚Äôs probably not an easy option. Or you can:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Edit your &lt;code&gt;TMP&lt;/code&gt; and &lt;code&gt;TEMP&lt;/code&gt; environment variables to a location with no spaces, like &lt;code&gt;C:\TEMP&lt;/code&gt; following instructions like &lt;a href=&#34;https://www.howtogeek.com/285710/how-to-move-windows-temporary-folders-to-another-drive/&#34;&gt;these ones&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Preferably install &lt;code&gt;R&lt;/code&gt; at a location with no spaces, like &lt;code&gt;C:\R&lt;/code&gt;, instead of the default &lt;code&gt;C:\Program Files&lt;/code&gt; &lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;backstory&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Backstory&lt;/h3&gt;
&lt;p&gt;A co-worker wanted to install the &lt;em&gt;&lt;a href=&#34;https://bioconductor.org/packages/3.9/clusterprofiler&#34;&gt;clusterprofiler&lt;/a&gt;&lt;/em&gt; Bioconductor package which depends on the &lt;em&gt;&lt;a href=&#34;https://bioconductor.org/packages/3.9/DO.db&#34;&gt;DO.db&lt;/a&gt;&lt;/em&gt; Bioconductor package. This co-worker uses a Windows machine that has a username with a space. Let‚Äôs say it was me with &lt;code&gt;Leo Collado&lt;/code&gt; to keep them anonymous. The &lt;em&gt;&lt;a href=&#34;https://bioconductor.org/packages/3.9/DO.db&#34;&gt;DO.db&lt;/a&gt;&lt;/em&gt; is only available as a ‚ÄúSource‚Äù package with no Windows binary as you can see &lt;a href=&#34;http://bioconductor.org/packages/release/data/annotation/html/DO.db.html&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://lcolladotor.github.io/post/2019-09-18-windows-user-space-issues-with-installing-r-packages_files/Screen%20Shot%202019-09-17%20at%2010.33.47%20PM.png&#34; width=&#34;600&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This means that &lt;code&gt;R&lt;/code&gt; has to:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;download a &lt;code&gt;tar.gz&lt;/code&gt; file,&lt;/li&gt;
&lt;li&gt;uncompress it,&lt;/li&gt;
&lt;li&gt;and then install it.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In particular, we are talking about &lt;a href=&#34;http://bioconductor.org/packages/release/data/annotation/src/contrib/DO.db_2.9.tar.gz&#34;&gt;&lt;code&gt;DO.db_2.9.tar.gz&lt;/code&gt;&lt;/a&gt; in this case.&lt;/p&gt;
&lt;p&gt;The installation instructions for &lt;em&gt;&lt;a href=&#34;https://bioconductor.org/packages/3.9/DO.db&#34;&gt;DO.db&lt;/a&gt;&lt;/em&gt; are:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;if (!requireNamespace(&amp;quot;BiocManager&amp;quot;, quietly = TRUE))
    install.packages(&amp;quot;BiocManager&amp;quot;)

BiocManager::install(&amp;quot;DO.db&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;uncompressing&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Uncompressing&lt;/h4&gt;
&lt;p&gt;Internally, &lt;code&gt;BiocManager::install()&lt;/code&gt; ends up using &lt;code&gt;utils::install.packages()&lt;/code&gt;. The first step, downloading, works well. Uncompressing a file in this scenario fails. Why?&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;&amp;gt; BiocManager::install(&amp;#39;DO.db&amp;#39;, lib = &amp;#39;C:/R/R-3.6.0/library&amp;#39;)
Bioconductor version 3.9 (BiocManager 1.30.4), R 3.6.0 (2019-04-26)
Installing package(s) &amp;#39;BiocVersion&amp;#39;, &amp;#39;DO.db&amp;#39;

## removed output

trying URL &amp;#39;https://bioconductor.org/packages/3.9/data/annotation/src/contrib/DO.db_2.9.tar.gz&amp;#39;
Content type &amp;#39;application/x-gzip&amp;#39; length 1769978 bytes (1.7 MB)
downloaded 1.7 MB

Error in untar2(tarfile, files, list, exdir, restore_times) :
  incomplete block on file

The downloaded source packages are in
        ‚ÄòC:\Users\Leo Collado\AppData\Local\Temp\RtmpqiBJ53\downloaded_packages‚Äô&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you search on Google the error message you‚Äôll find links like &lt;a href=&#34;https://stackoverflow.com/questions/25487593/r-what-does-incomplete-block-on-file-mean&#34;&gt;this one&lt;/a&gt; which hint towards an incomplete download. But the download works. You can even download the file and try to run &lt;code&gt;untar()&lt;/code&gt; manually and it will fail.&lt;/p&gt;
&lt;p&gt;We were told to try installing R at a location with no spaces, so by this point, R was installed at &lt;code&gt;C:\R\R-3.6.0\&lt;/code&gt;, hence the &lt;code&gt;lib&lt;/code&gt; specification you see above, though it‚Äôs irrelevant for these errors.&lt;/p&gt;
&lt;p&gt;Uncompressing the &lt;code&gt;tar.gz&lt;/code&gt; file is done by &lt;code&gt;utils::untar()&lt;/code&gt;. If you look at the code for &lt;code&gt;utils::untar()&lt;/code&gt; you‚Äôll see:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## The function definition of utils::untar
function (tarfile, files = NULL, list = FALSE, exdir = &amp;quot;.&amp;quot;, compressed = NA, 
  extras = NULL, verbose = FALSE, restore_times = TRUE,
  support_old_tars = Sys.getenv(&amp;quot;R_SUPPORT_OLD_TARS&amp;quot;, 
    FALSE), tar = Sys.getenv(&amp;quot;TAR&amp;quot;)) 

## Inside utils::untar()
if (inherits(tarfile, &amp;quot;connection&amp;quot;) || identical(tar, &amp;quot;internal&amp;quot;)) {
  if (!missing(compressed)) 
    warning(&amp;quot;argument &amp;#39;compressed&amp;#39; is ignored for the internal method&amp;quot;)
  return(untar2(tarfile, files, list, exdir, restore_times))
}

## Further below
TAR &amp;lt;- tar
if (!nzchar(TAR) &amp;amp;&amp;amp; .Platform$OS.type == &amp;quot;windows&amp;quot; &amp;amp;&amp;amp; nzchar(Sys.which(&amp;quot;tar.exe&amp;quot;))) 
  TAR &amp;lt;- &amp;quot;tar.exe&amp;quot;
if (!nzchar(TAR) || TAR == &amp;quot;internal&amp;quot;) 
  return(untar2(tarfile, files, list, exdir))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In this case, the first &lt;code&gt;untar2()&lt;/code&gt; call is called. That is: &lt;code&gt;return(untar2(tarfile, files, list, exdir, restore_times))&lt;/code&gt;. The error message &lt;code&gt;incomplete block on file&lt;/code&gt; is not really informative in this case because &lt;code&gt;untar2()&lt;/code&gt; is not happy when there‚Äôs a space in the path to the file &lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We can get around this &lt;code&gt;untar2()&lt;/code&gt; issue by uncompressing the &lt;code&gt;tar.gz&lt;/code&gt; file ourselves in a path that has no spaces. For example, if we download &lt;code&gt;DO.db_2.9.tar.gz&lt;/code&gt; to &lt;code&gt;C:\R&lt;/code&gt; we can uncompress the &lt;code&gt;tar.gz&lt;/code&gt; file with:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;utils::untar(&amp;#39;C:/R/DO.db_2.9.tar.gz&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;installation&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Installation&lt;/h4&gt;
&lt;p&gt;Let‚Äôs proceed to installing the package.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;&amp;gt; install.packages(&amp;#39;C:/R/DO.db&amp;#39;, repos = NULL, type = &amp;#39;source&amp;#39;, lib = &amp;#39;C:/R/R-3.6.0/library&amp;#39;)
* installing *source* package &amp;#39;DO.db&amp;#39; ...
** using staged installation
** R
** inst
** byte-compile and prepare package for lazy loading
ARGUMENT &amp;#39;Collado\AppData\Local\Temp\Rtmp8EQDjB\Rin2ef05088650f&amp;#39; __ignored__

Error: object &amp;#39;√ø√æ&amp;#39; not found
Execution halted

ERROR: lazy loading failed for package &amp;#39;DO.db&amp;#39;
* removing &amp;#39;C:/R/R-3.6.0/library/DO.db&amp;#39;

Warning message:
In install.packages(&amp;quot;C:/R/DO.db&amp;quot;, repos = NULL, type = &amp;quot;source&amp;quot;,  :
  installation of package ‚ÄòC:/R/DO.db‚Äô had non-zero exit status
&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Oh noes! It didn‚Äôt work üòñ What happened?&lt;/p&gt;
&lt;p&gt;If you look closely, you‚Äôll see that it says &lt;code&gt;ARGUMENT &#39;Collado\AppData\Local\Temp\Rtmp8EQDjB\Rin2ef05088650f&#39; __ignored__&lt;/code&gt;. Wait! &lt;code&gt;Collado&lt;/code&gt; is the &lt;code&gt;Lastname&lt;/code&gt; portion of the username! So we have another space issue &lt;a href=&#34;#fn4&#34; class=&#34;footnote-ref&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;. That structure though looks very familiar, it‚Äôs from &lt;code&gt;base::tempdir()&lt;/code&gt;!&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;&amp;gt; tempdir()

[1] &amp;quot;C:\\Users\\Leo Collado\\AppData\\Local\\Temp\\RtmpqiBJ53&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The help file for &lt;code&gt;?tempdir&lt;/code&gt; contained the clues to solving this issue.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;By default, tmpdir will be the directory given by tempdir().
This will be a subdirectory of the per-session temporary directory
found by the following rule when the R session is started.
The environment variables TMPDIR, TMP and TEMP are checked in turn
and the first found which points to a writable directory is used:
if none succeeds ‚Äò/tmp‚Äô is used. The path should not contain spaces.
Note that setting any of these environment variables in the R session
has no effect on tempdir(): the per-session temporary directory is
created before the interpreter is started.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We can set the &lt;code&gt;TMPDIR&lt;/code&gt; environment variable which will be used by the R session spawned inside the installation of &lt;em&gt;&lt;a href=&#34;https://bioconductor.org/packages/3.9/DO.db&#34;&gt;DO.db&lt;/a&gt;&lt;/em&gt; and‚Ä¶ it works!&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;&amp;gt; Sys.setenv(TMPDIR = &amp;#39;C:/R/tmp_leo&amp;#39;)
&amp;gt; Sys.getenv(&amp;#39;TMPDIR&amp;#39;)
[1] &amp;quot;C:/R/tmp_leo&amp;quot;
&amp;gt;
&amp;gt;
&amp;gt; install.packages(&amp;#39;C:/R/DO.db&amp;#39;, repos = NULL, type = &amp;#39;source&amp;#39;, lib = &amp;#39;C:/R/R-3.6.0/library&amp;#39;)
* installing *source* package &amp;#39;DO.db&amp;#39; ...
** using staged installation
** R
** inst
** byte-compile and prepare package for lazy loading
** help
*** installing help indices
  converting help for package &amp;#39;DO.db&amp;#39;
    finding HTML links ... done
    DOANCESTOR                              html 
    DOBASE                                  html 
    DOCHILDREN                              html 
    DOMAPCOUNTS                             html 
    DOOBSOLETE                              html 
    DOOFFSPRING                             html 
    DOPARENTS                               html 
    DOSYNONYM                               html  
    DOTERM                                  html 
    DOTerms-class                           html 
    DOTermsAnnDbBimap                       html 
    DO_dbconn                               html 
** building package indices
** testing if installed package can be loaded from temporary location
*** arch - i386
*** arch - x64
** testing if installed package can be loaded from final location
*** arch - i386
*** arch - x64
** testing if installed package keeps a record of temporary installation path
* DONE (DO.db)
Making &amp;#39;packages.html&amp;#39; ... done&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;clusterprofiler-installation&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;&lt;code&gt;clusterProfiler&lt;/code&gt; installation&lt;/h4&gt;
&lt;p&gt;Now we can continue and install &lt;em&gt;&lt;a href=&#34;https://bioconductor.org/packages/3.9/clusterProfiler&#34;&gt;clusterProfiler&lt;/a&gt;&lt;/em&gt;, right?&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;&amp;gt; BiocManager::install(&amp;#39;clusterProfiler&amp;#39;, lib = &amp;#39;C:/R/R-3.6.0/library&amp;#39;)
Bioconductor version 3.9 (BiocManager 1.30.4), R 3.6.0 (2019-04-26)
Installing package(s) &amp;#39;clusterProfiler&amp;#39;
also installing the dependencies ‚Äòsys‚Äô, ‚ÄòformatR‚Äô, ‚Äòaskpass‚Äô, ‚Äòfarver‚Äô, ‚Äòbackports‚Äô, ‚Äòzeallot‚Äô, ‚Äòlambda.r‚Äô, ‚Äòfutile.options‚Äô, ‚Äòcurl‚Äô, ‚Äòmime‚Äô, ‚Äòopenssl‚Äô, ‚Äòhms‚Äô, ‚Äòtriebeard‚Äô, ‚Äòtweenr‚Äô, ‚Äòpolyclip‚Äô, ‚ÄòRcppEigen‚Äô, ‚Äòcolorspace‚Äô, ‚Äòutf8‚Äô, ‚Äòvctrs‚Äô, ‚Äòfutile.logger‚Äô, ‚Äòsnow‚Äô, ‚Äòdata.table‚Äô, ‚Äòfastmatch‚Äô, ‚Äòstringr‚Äô, ‚Äòhttr‚Äô, ‚Äòjsonlite‚Äô, ‚Äòprogress‚Äô, ‚Äòurltools‚Äô, ‚Äòxml2‚Äô, ‚ÄògridGraphics‚Äô, ‚Äòggforce‚Äô, ‚Äòggrepel‚Äô, ‚Äòviridis‚Äô, ‚Äòlabeling‚Äô, ‚Äòmunsell‚Äô, ‚ÄòR6‚Äô, ‚Äòcli‚Äô, ‚Äòcrayon‚Äô, ‚Äòfansi‚Äô, ‚Äòpillar‚Äô, ‚ÄòBiocParallel‚Äô, ‚Äòfgsea‚Äô, ‚Äòreshape2‚Äô, ‚Äòcowplot‚Äô, ‚Äòeuropepmc‚Äô, ‚Äòggplotify‚Äô, ‚Äòggraph‚Äô, ‚Äòggridges‚Äô, ‚ÄògridExtra‚Äô, ‚Äòigraph‚Äô, ‚Äòpurrr‚Äô, ‚ÄòRColorBrewer‚Äô, ‚ÄòUpSetR‚Äô, ‚Äògtable‚Äô, ‚Äòlazyeval‚Äô, ‚Äòrlang‚Äô, ‚Äòscales‚Äô, ‚Äòtibble‚Äô, ‚ÄòviridisLite‚Äô, ‚Äòwithr‚Äô, ‚Äòdplyr‚Äô, ‚Äòglue‚Äô, ‚Äòstringi‚Äô, ‚Äòtidyselect‚Äô, ‚ÄòDOSE‚Äô, ‚Äòenrichplot‚Äô, ‚Äòggplot2‚Äô, ‚ÄòGO.db‚Äô, ‚ÄòGOSemSim‚Äô, ‚Äòplyr‚Äô, ‚Äòqvalue‚Äô, ‚Äòrvcheck‚Äô, ‚Äòtidyr‚Äô

## Delete more output

The downloaded binary packages are in
        C:\Users\Leo Collado\AppData\Local\Temp\RtmpqiBJ53\downloaded_packages
installing the source packages ‚Äòpillar‚Äô, ‚ÄòGO.db‚Äô


trying URL &amp;#39;https://cloud.r-project.org/src/contrib/pillar_1.4.1.tar.gz&amp;#39;
Content type &amp;#39;application/x-gzip&amp;#39; length 228572 bytes (223 KB)
downloaded 223 KB

trying URL &amp;#39;https://bioconductor.org/packages/3.9/data/annotation/src/contrib/GO.db_3.8.2.tar.gz&amp;#39;
Content type &amp;#39;application/x-gzip&amp;#39; length 31820866 bytes (30.3 MB)
downloaded 30.3 MB

Error in untar2(tarfile, files, list, exdir, restore_times) :
  incomplete block on file

Error in untar2(tarfile, files, list, exdir, restore_times) :
  incomplete block on file

The downloaded source packages are in
        ‚ÄòC:\Users\Leo Collado\AppData\Local\Temp\RtmpqiBJ53\downloaded_packages‚Äô&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The issue is again that &lt;code&gt;utils:::untar2()&lt;/code&gt; and thus &lt;code&gt;utils::untar()&lt;/code&gt; does not like spaces in the paths. If we look at where the packages were downloaded more closely, we can see a space there at &lt;code&gt;C:\Users\Leo Collado\AppData\Local\Temp\RtmpqiBJ53\downloaded_packages&lt;/code&gt;. If you check the help file for &lt;code&gt;utils::install.packages()&lt;/code&gt; you‚Äôll see that &lt;code&gt;destdir&lt;/code&gt; controls this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;destdir&lt;/p&gt;
&lt;p&gt;directory where downloaded packages are stored. If it is NULL
(the default) a subdirectory downloaded_packages of the session
temporary directory will be used (and the files will be deleted
at the end of the session).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If we dig into &lt;code&gt;utils::install.packages()&lt;/code&gt; we can see how this comes to play.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## Part of utils::install.packages()
if (is.null(destdir) &amp;amp;&amp;amp; nonlocalrepos) {
  tmpd &amp;lt;- file.path(tempdir(), &amp;quot;downloaded_packages&amp;quot;)
  if (!file.exists(tmpd) &amp;amp;&amp;amp; !dir.create(tmpd)) 
    stop(gettextf(&amp;quot;unable to create temporary directory %s&amp;quot;, 
      sQuote(tmpd)), domain = NA)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Setting the environment variable &lt;code&gt;TMPDIR&lt;/code&gt; doesn‚Äôt work here as the instructions for &lt;code&gt;tempdir()&lt;/code&gt; specify &lt;a href=&#34;#fn5&#34; class=&#34;footnote-ref&#34; id=&#34;fnref5&#34;&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt; although I now see that you can edit the &lt;code&gt;.Renviron&lt;/code&gt; file as instructed &lt;a href=&#34;https://stackoverflow.com/questions/17107206/change-temporary-directory&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In any case, if we specify a &lt;code&gt;destdir&lt;/code&gt; without spaces we overide the need to control &lt;code&gt;tempdir()&lt;/code&gt;, enable &lt;code&gt;utils::untar()&lt;/code&gt; to work and we can finally install &lt;em&gt;&lt;a href=&#34;https://bioconductor.org/packages/3.9/clusterProfiler&#34;&gt;clusterProfiler&lt;/a&gt;&lt;/em&gt; üéâ.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;&amp;gt; BiocManager::install(&amp;#39;clusterProfiler&amp;#39;, lib = &amp;#39;C:/R/R-3.6.0/library&amp;#39;, destdir = &amp;#39;C:/R/dest_leo&amp;#39;)
Bioconductor version 3.9 (BiocManager 1.30.4), R 3.6.0 (2019-04-26)
Installing package(s) &amp;#39;clusterProfiler&amp;#39;
also installing the dependency ‚ÄòGO.db‚Äô

trying URL &amp;#39;https://bioconductor.org/packages/3.9/bioc/bin/windows/contrib/3.6/clusterProfiler_3.12.0.zip&amp;#39;
Content type &amp;#39;application/zip&amp;#39; length 623524 bytes (608 KB)
downloaded 608 KB

package ‚ÄòclusterProfiler‚Äô successfully unpacked and MD5 sums checked
installing the source package ‚ÄòGO.db‚Äô

trying URL &amp;#39;https://bioconductor.org/packages/3.9/data/annotation/src/contrib/GO.db_3.8.2.tar.gz&amp;#39;
Content type &amp;#39;application/x-gzip&amp;#39; length 31820866 bytes (30.3 MB)
downloaded 30.3 MB

* installing *source* package &amp;#39;GO.db&amp;#39; ...
** using staged installation
** R
** inst
** byte-compile and prepare package for lazy loading
** help
*** installing help indices
  converting help for package &amp;#39;GO.db&amp;#39;
    finding HTML links ... done
    GOBASE                                  html 
    GOBPANCESTOR                            html 
    GOBPCHILDREN                            html 
    GOBPOFFSPRING                           html 
    GOBPPARENTS                             html 
    GOCCANCESTOR                            html 
    GOCCCHILDREN                            html 
    GOCCOFFSPRING                           html 
    GOCCPARENTS                             html 
    GOMAPCOUNTS                             html 
    GOMFANCESTOR                            html 
    GOMFCHILDREN                            html 
    GOMFOFFSPRING                           html 
    GOMFPARENTS                             html 
    GOOBSOLETE                              html 
    GOSYNONYM                               html 
    GOTERM                                  html  
    GO_dbconn                               html 
** building package indices
** testing if installed package can be loaded from temporary location
*** arch - i386
*** arch - x64
** testing if installed package can be loaded from final location
*** arch - i386
*** arch - x64
** testing if installed package keeps a record of temporary installation path
* DONE (GO.db)
Making &amp;#39;packages.html&amp;#39; ... done&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;closing&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Closing&lt;/h3&gt;
&lt;p&gt;All of the above seemed like too much. In addition, it seemed like &lt;code&gt;BiocManager::install(&#39;hypeR&#39;, destdir = &#39;C:/R/dest_leo&#39;)&lt;/code&gt; was not working &lt;a href=&#34;#fn6&#34; class=&#34;footnote-ref&#34; id=&#34;fnref6&#34;&gt;&lt;sup&gt;6&lt;/sup&gt;&lt;/a&gt;. I likely missed something here earlier today. So controlling &lt;code&gt;utils::tempdir()&lt;/code&gt; seemed like the easiest solution such that the defaults of where a package gets downloaded, uncompressed, etc all worked. And the simplest solution we thought of was to create the &lt;code&gt;C:\TEMP&lt;/code&gt; directory and update the Windows environment variables &lt;code&gt;TMP&lt;/code&gt; and &lt;code&gt;TEMP&lt;/code&gt; to &lt;a href=&#34;https://www.howtogeek.com/285710/how-to-move-windows-temporary-folders-to-another-drive/&#34;&gt;point&lt;/a&gt; to that location. Then, the rest of the commands worked without having to specify &lt;code&gt;lib&lt;/code&gt; or &lt;code&gt;destdir&lt;/code&gt; or manually run &lt;code&gt;utils::untar()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;As a whole, remember to look for spaces in the error messages! This is specially relevant when you are having issues as a Microsoft Windows &lt;code&gt;R&lt;/code&gt; user.&lt;/p&gt;
&lt;p&gt;If you have other solutions for Microsoft Windows &lt;code&gt;R&lt;/code&gt; users with usernames that have at least one space, please let us know in the comments! Thank you! üôåüèΩ&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;acknowledgements&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Acknowledgements&lt;/h3&gt;
&lt;p&gt;This blog post was made possible thanks to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;&lt;a href=&#34;https://bioconductor.org/packages/3.9/BiocStyle&#34;&gt;BiocStyle&lt;/a&gt;&lt;/em&gt; &lt;a id=&#39;cite-Oles_2019&#39;&gt;&lt;/a&gt;(&lt;a href=&#39;https://github.com/Bioconductor/BiocStyle&#39;&gt;Ole≈õ, Morgan, and Huber, 2019&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;a href=&#34;https://CRAN.R-project.org/package=blogdown&#34;&gt;blogdown&lt;/a&gt;&lt;/em&gt; &lt;a id=&#39;cite-Xie_2017&#39;&gt;&lt;/a&gt;(&lt;a href=&#39;https://github.com/rstudio/blogdown&#39;&gt;Xie, Hill, and Thomas, 2017&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;a href=&#34;https://CRAN.R-project.org/package=knitcitations&#34;&gt;knitcitations&lt;/a&gt;&lt;/em&gt; &lt;a id=&#39;cite-Boettiger_2017&#39;&gt;&lt;/a&gt;(&lt;a href=&#39;https://CRAN.R-project.org/package=knitcitations&#39;&gt;Boettiger, 2017&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;a href=&#34;https://CRAN.R-project.org/package=sessioninfo&#34;&gt;sessioninfo&lt;/a&gt;&lt;/em&gt; &lt;a id=&#39;cite-Csardi_2018&#39;&gt;&lt;/a&gt;(&lt;a href=&#39;https://CRAN.R-project.org/package=sessioninfo&#39;&gt;Cs√°rdi, core, Wickham, Chang, et al., 2018&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;references&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;References&lt;/h3&gt;
&lt;p&gt;
&lt;a id=&#39;bib-Boettiger_2017&#39;&gt;&lt;/a&gt;&lt;a href=&#34;#cite-Boettiger_2017&#34;&gt;[1]&lt;/a&gt;&lt;cite&gt;
C. Boettiger.
&lt;em&gt;knitcitations: Citations for ‚ÄòKnitr‚Äô Markdown Files&lt;/em&gt;.
R package version 1.0.8.
2017.
URL: &lt;a href=&#34;https://CRAN.R-project.org/package=knitcitations&#34;&gt;https://CRAN.R-project.org/package=knitcitations&lt;/a&gt;.&lt;/cite&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a id=&#39;bib-Csardi_2018&#39;&gt;&lt;/a&gt;&lt;a href=&#34;#cite-Csardi_2018&#34;&gt;[2]&lt;/a&gt;&lt;cite&gt;
G. Cs√°rdi, R. core, H. Wickham, W. Chang, et al.
&lt;em&gt;sessioninfo: R Session Information&lt;/em&gt;.
R package version 1.1.1.
2018.
URL: &lt;a href=&#34;https://CRAN.R-project.org/package=sessioninfo&#34;&gt;https://CRAN.R-project.org/package=sessioninfo&lt;/a&gt;.&lt;/cite&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a id=&#39;bib-Oles_2019&#39;&gt;&lt;/a&gt;&lt;a href=&#34;#cite-Oles_2019&#34;&gt;[3]&lt;/a&gt;&lt;cite&gt;
A. Ole≈õ, M. Morgan, and W. Huber.
&lt;em&gt;BiocStyle: Standard styles for vignettes and other Bioconductor documents&lt;/em&gt;.
R package version 2.12.0.
2019.
URL: &lt;a href=&#34;https://github.com/Bioconductor/BiocStyle&#34;&gt;https://github.com/Bioconductor/BiocStyle&lt;/a&gt;.&lt;/cite&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a id=&#39;bib-Xie_2017&#39;&gt;&lt;/a&gt;&lt;a href=&#34;#cite-Xie_2017&#34;&gt;[4]&lt;/a&gt;&lt;cite&gt;
Y. Xie, A. P. Hill, and A. Thomas.
&lt;em&gt;blogdown: Creating Websites with R Markdown&lt;/em&gt;.
ISBN 978-0815363729.
Boca Raton, Florida: Chapman and Hall/CRC, 2017.
URL: &lt;a href=&#34;https://github.com/rstudio/blogdown&#34;&gt;https://github.com/rstudio/blogdown&lt;/a&gt;.&lt;/cite&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;reproducibility&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Reproducibility&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;## ‚îÄ Session info ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
##  setting  value                       
##  version  R version 3.6.1 (2019-07-05)
##  os       macOS Mojave 10.14.6        
##  system   x86_64, darwin15.6.0        
##  ui       X11                         
##  language (EN)                        
##  collate  en_US.UTF-8                 
##  ctype    en_US.UTF-8                 
##  tz       America/New_York            
##  date     2019-09-18                  
## 
## ‚îÄ Packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
##  package       * version date       lib source                            
##  assertthat      0.2.1   2019-03-21 [1] CRAN (R 3.6.0)                    
##  bibtex          0.4.2   2017-06-30 [1] CRAN (R 3.6.0)                    
##  BiocManager     1.30.4  2018-11-13 [1] CRAN (R 3.6.0)                    
##  BiocStyle     * 2.12.0  2019-05-02 [1] Bioconductor                      
##  blogdown        0.15    2019-08-21 [1] CRAN (R 3.6.1)                    
##  bookdown        0.13    2019-08-21 [1] CRAN (R 3.6.0)                    
##  cli             1.1.0   2019-03-19 [1] CRAN (R 3.6.0)                    
##  colorout      * 1.2-1   2019-05-07 [1] Github (jalvesaq/colorout@7ea9440)
##  crayon          1.3.4   2017-09-16 [1] CRAN (R 3.6.0)                    
##  digest          0.6.20  2019-07-04 [1] CRAN (R 3.6.0)                    
##  evaluate        0.14    2019-05-28 [1] CRAN (R 3.6.0)                    
##  htmltools       0.3.6   2017-04-28 [1] CRAN (R 3.6.0)                    
##  httr            1.4.1   2019-08-05 [1] CRAN (R 3.6.0)                    
##  jsonlite        1.6     2018-12-07 [1] CRAN (R 3.6.0)                    
##  knitcitations * 1.0.8   2017-07-04 [1] CRAN (R 3.6.0)                    
##  knitr           1.24    2019-08-08 [1] CRAN (R 3.6.0)                    
##  lubridate       1.7.4   2018-04-11 [1] CRAN (R 3.6.0)                    
##  magrittr        1.5     2014-11-22 [1] CRAN (R 3.6.0)                    
##  plyr            1.8.4   2016-06-08 [1] CRAN (R 3.6.0)                    
##  R6              2.4.0   2019-02-14 [1] CRAN (R 3.6.0)                    
##  Rcpp            1.0.2   2019-07-25 [1] CRAN (R 3.6.0)                    
##  RefManageR      1.2.12  2019-04-03 [1] CRAN (R 3.6.0)                    
##  rmarkdown       1.15    2019-08-21 [1] CRAN (R 3.6.1)                    
##  sessioninfo   * 1.1.1   2018-11-05 [1] CRAN (R 3.6.0)                    
##  stringi         1.4.3   2019-03-12 [1] CRAN (R 3.6.0)                    
##  stringr         1.4.0   2019-02-10 [1] CRAN (R 3.6.0)                    
##  withr           2.1.2   2018-03-15 [1] CRAN (R 3.6.0)                    
##  xfun            0.9     2019-08-21 [1] CRAN (R 3.6.0)                    
##  xml2            1.2.2   2019-08-09 [1] CRAN (R 3.6.0)                    
##  yaml            2.2.0   2018-07-25 [1] CRAN (R 3.6.0)                    
## 
## [1] /Library/Frameworks/R.framework/Versions/3.6/Resources/library&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;This is the case in the Bioconductor Windows build machine where the username is &lt;code&gt;biocbuild&lt;/code&gt; as you can see &lt;a href=&#34;http://bioconductor.org/checkResults/release/bioc-LATEST/recount/tokay2-install.html&#34;&gt;here&lt;/a&gt;.&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;‚Ü©&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;In the Bioconductor Windows build machines there are again no spaces in the path to the R installation and the library where packages are installed.&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;‚Ü©&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;Hopefully in the future Google will lead you to this blog post and you might avoid the rabbit hole I went through!&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;‚Ü©&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;By the way, at this point I thought that the error was related to &lt;code&gt;Error: object &#39;√ø√æ&#39; not found&lt;/code&gt; and maybe some encoding issues since the &lt;em&gt;&lt;a href=&#34;https://bioconductor.org/packages/3.9/DO.db&#34;&gt;DO.db&lt;/a&gt;&lt;/em&gt; package has Chinese characters.&lt;a href=&#34;#fnref4&#34; class=&#34;footnote-back&#34;&gt;‚Ü©&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn5&#34;&gt;&lt;p&gt;Didn‚Äôt stop me from trying hehe. I tried using &lt;code&gt;usethis::edit_r_profile()&lt;/code&gt; and adding &lt;code&gt;Sys.setenv(TMPDIR = &#39;C:/R/tmp_leo&#39;)&lt;/code&gt; but that didn‚Äôt work.&lt;a href=&#34;#fnref5&#34; class=&#34;footnote-back&#34;&gt;‚Ü©&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn6&#34;&gt;&lt;p&gt;I would need to test this more before reporting it properly to Bioconductor.&lt;a href=&#34;#fnref6&#34; class=&#34;footnote-back&#34;&gt;‚Ü©&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>
