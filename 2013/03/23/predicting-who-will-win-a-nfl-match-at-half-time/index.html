<!DOCTYPE html>
<!-- This site was created with Wowchemy. https://www.wowchemy.com -->
<!-- Last Published: May 25, 2024 --><html lang="en-us" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.7.0 for Hugo" />
  

  
  












  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&family=Karma&family=Mina&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&family=Karma&family=Mina&display=swap" media="print" onload="this.media='all'">
    
  

  
  

  
  
    
    <script src="/js/mathjax-config.js"></script>
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.047268c6dd09ad74ba54a0ba71837064.css" media="print" onload="this.media='all'">

  
  
  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.2/css/academicons.min.css" integrity="sha512-KlJCpRsLf+KKu2VQa5vmRuClRFjxc5lXO03ixZt82HZUk41+1I0bD8KBSA0fY290ayMfWYI9udIqeOWSu1/uZg==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    
    
    
    
      
      
    
    
    

    
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.css" integrity="" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.cfa383012e109fa07dd80bafcdf476df.css" />

  
  
  

  
  
  
  
  
  
  
    
    
    <link rel="stylesheet" href="/css/libs/chroma/github-light.min.css" title="hl-light" media="print" onload="this.media='all'" >
    <link rel="stylesheet" href="/css/libs/chroma/dracula.min.css" title="hl-dark" media="print" onload="this.media='all'" disabled>
  

  
  






<script async src="https://www.googletagmanager.com/gtag/js?id=G-3CBVR6GQ07"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));  
  }

  gtag('js', new Date());
  gtag('config', 'G-3CBVR6GQ07', {});
  gtag('set', {'cookie_flags': 'SameSite=None;Secure'});

  
  document.addEventListener('click', onClickCallback, false);
</script>























  
  
  






  <meta name="author" content="Leonardo Collado-Torres" />





  

<meta name="description" content="It was great to have a little break, Spring break, although the weather didn&#8217;t feel like spring at all! During the early part of the break I worked on my final project for Jeff Leek&#8217;s data analysis class, which we call 140." />



<link rel="alternate" hreflang="en-us" href="https://lcolladotor.github.io/2013/03/23/Predicting-who-will-win-a-NFL-match-at-half-time/" />
<link rel="canonical" href="https://lcolladotor.github.io/2013/03/23/Predicting-who-will-win-a-NFL-match-at-half-time/" />



  <link rel="manifest" href="/manifest.webmanifest" />



<link rel="icon" type="image/png" href="/media/icon_hu2b32c4ab415f12f472f73c7b0301b0d1_19400_32x32_fill_lanczos_center_3.png" />
<link rel="apple-touch-icon" type="image/png" href="/media/icon_hu2b32c4ab415f12f472f73c7b0301b0d1_19400_180x180_fill_lanczos_center_3.png" />

<meta name="theme-color" content="#FF6771" />










  
  






<meta property="twitter:card" content="summary" />

  <meta property="twitter:site" content="@lcolladotor" />
  <meta property="twitter:creator" content="@lcolladotor" />
<meta property="twitter:image" content="https://lcolladotor.github.io/media/icon_hu2b32c4ab415f12f472f73c7b0301b0d1_19400_512x512_fill_lanczos_center_3.png" />
<meta property="og:site_name" content="L. Collado-Torres" />
<meta property="og:url" content="https://lcolladotor.github.io/2013/03/23/Predicting-who-will-win-a-NFL-match-at-half-time/" />
<meta property="og:title" content="Predicting who will win a NFL match at half time | L. Collado-Torres" />
<meta property="og:description" content="It was great to have a little break, Spring break, although the weather didn&#8217;t feel like spring at all! During the early part of the break I worked on my final project for Jeff Leek&#8217;s data analysis class, which we call 140." /><meta property="og:image" content="https://lcolladotor.github.io/media/icon_hu2b32c4ab415f12f472f73c7b0301b0d1_19400_512x512_fill_lanczos_center_3.png" /><meta property="og:locale" content="en-us" />

  
    <meta
      property="article:published_time"
      content="2013-03-23T00:00:00&#43;00:00"
    />
  
  
    <meta property="article:modified_time" content="2017-01-23T09:28:34-05:00">
  






    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://lcolladotor.github.io/2013/03/23/Predicting-who-will-win-a-NFL-match-at-half-time/"
  },
  "headline": "Predicting who will win a NFL match at half time",
  
  "datePublished": "2013-03-23T00:00:00Z",
  "dateModified": "2017-01-23T09:28:34-05:00",
  
  "author": {
    "@type": "Person",
    "name": "Leonardo Collado-Torres"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "L. Collado-Torres",
    "logo": {
      "@type": "ImageObject",
      "url": "https://lcolladotor.github.io/media/icon_hu2b32c4ab415f12f472f73c7b0301b0d1_19400_192x192_fill_lanczos_center_3.png"
    }
  },
  "description": "It was great to have a little break, Spring break, although the weather didn\u0026#8217;t feel like spring at all! During the early part of the break I worked on my final project for Jeff Leek\u0026#8217;s data analysis class, which we call 140."
}
</script>

  

  




  
  
  

  
  

  


  
  <title>Predicting who will win a NFL match at half time | L. Collado-Torres</title>

  
  
  
  











</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="1bb5323a35b4ac4632fff2580e29af6b" >

  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.028535d572102c468e4bcd43201c3601.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header header--fixed">
  
  
  
  
  












<header>
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/">L. Collado-Torres</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/">L. Collado-Torres</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>Home</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#team"><span>Team</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#projects"><span>Projects</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#talks_favorite"><span>Talks</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#publications"><span>Publications</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#blog"><span>Blog</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#teaching"><span>Teaching</span></a>
          </li>

          
          

          

          
          
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#cv"><span>CV</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#contact"><span>Contact</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
        

        
        
        
        <li class="nav-item">
          <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        
        
        <li class="nav-item dropdown theme-dropdown">
          <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
            <i class="fas fa-moon" aria-hidden="true"></i>
          </a>
          <div class="dropdown-menu">
            <a href="#" class="dropdown-item js-set-theme-light">
              <span>Light</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-dark">
              <span>Dark</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-auto">
              <span>Automatic</span>
            </a>
          </div>
        </li>
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    <article class="article">

  













  

  
  
  
<div class="article-container pt-3">
  <h1>Predicting who will win a NFL match at half time</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
          Last updated on
      
    
    Mon, Jan 23, 2017
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    7 min read
  </span>
  

  
  
  
  
    <span class="middot-divider"></span>
    <a href="/2013/03/23/Predicting-who-will-win-a-NFL-match-at-half-time/#disqus_thread"></a>
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/category/rstats/">rstats</a>, <a href="/category/jhu-biostat/">JHU Biostat</a></span>
  

</div>

    





  
</div>



  <div class="article-container">

    <div class="article-style">
      <p>It was great to have a little break, <em>Spring break</em>, although the weather didn&#8217;t feel like spring at all! During the early part of the break I worked on my final project for Jeff Leek&#8217;s data analysis class, which we call 140.753 here. Continuing <a href="http://fellgernon.tumblr.com/tagged/jhsph753#.UU44Y1vF2c4">my previous posts on the topic</a>, this time I&#8217;ll share the results of my final project.</p>
<p>At the beginning of the course, we had to submit a project plan (more like a proposal) and <a href="https://github.com/lcolladotor/lcollado753/blob/master/hw/projectplan/lcollado_projectplan.pdf">in mine</a> I announced my interest to look into some sports data. At the time I included a few links to Brian Burke&#8217;s Advanced NFL Stats site (<span class="showtooltip" title="(2013). Advanced NFL Stats.   http://www.advancednflstats.com/ [Online. last-accessed:  2013-03-23 23:28:38].  http://www.advancednflstats.com/."><a href="http://www.advancednflstats.com/">Burke</a></span>). At the time I didn&#8217;t know that Burke&#8217;s site described in detail a lot of the information I would end up using.</p>
<p>My final project had to do with splitting NFL games by half and then use only the play-by-play data from the first half to predict if team A or B would win the game. My overall goal was to have some fun with sports data which I had never looked at, but then also try to come up with something I would personally use in the future. So, why split games by half? I personally would like to know if I should keep watching a game or not at half time. Having a tool to help me decide would be great, and well, if the team I&#8217;m rooting for has high chances of losing or winning, ideally I would switch to doing something else. A related question that I didn&#8217;t try to answer is which half is worth watching? This would be a meaningful question if you only have time to watch one of them.</p>
<p>To truly satisfy my goals, it wasn&#8217;t enough to just build a predictive model. That is why I also built a web application using the <code>shiny</code> package (<span class="showtooltip" title="RStudio and Inc. (2013). _shiny: Web Application Framework for R_.  R package version 0.4.0,   http://CRAN.R-project.org/package=shiny."><a href="http://CRAN.R-project.org/package=shiny">RStudio and Inc., 2013</a></span>). It was the first time I did a shiny app, but thanks to the good manual and some examples on GitHub from John Muschelli like his <a href="https://github.com/muschellij2/Shiny_model">Shiny_model</a> it wasn&#8217;t so bad. I thus invite you to test and browse my shiny app at <a href="http://glimmer.rstudio.com/lcolladotor/NFLhalf/"><a href="http://glimmer.rstudio.com/lcolladotor/NFLhalf/">http://glimmer.rstudio.com/lcolladotor/NFLhalf/</a></a>. It could be improved by adding some functions that scrape live data for the 2013 season so you don&#8217;t have to input all the variables needed by using the sliders. Anyhow, I&#8217;m happy with the result.</p>
<p>The entire project&#8217;s code, EDA steps, shiny app, and report are available via GitHub in my repository (<span class="showtooltip" title="lcolladotor (2013). lcollado753.   https://github.com/lcolladotor/lcollado753 [Online.  last-accessed: 2013-03-21 02:23:49].   https://github.com/lcolladotor/lcollado753/tree/master/final/nfl_half."><a href="https://github.com/lcolladotor/lcollado753/tree/master/final/nfl_half">lcollado753</a></span>). While the details are in the report, I&#8217;ll give a brief summary here.</p>
<p>Basically, I summarized the play-by-play data for all NFL games from 2002 to 2012 seasons as provided by Burke (<span class="showtooltip" title="(2010). Advanced NFL Stats: Play-by-Play Data.   http://www.advancednflstats.com/2010/04/play-by-play-data.html  [Online. last-accessed: 2013-03-24 00:08:20].   http://www.advancednflstats.com/2010/04/play-by-play-data.html."><a href="http://www.advancednflstats.com/2010/04/play-by-play-data.html">Burke, 2010</a></span>). I used some of the variables Burke uses (<span class="showtooltip" title="(2009). Advanced NFL Stats: How the Model Works-A Detailed  Example Part 1.   http://www.advancednflstats.com/2009/01/how-model-works-detailed-example.html  [Online. last-accessed: 2013-03-24 00:08:21].   http://www.advancednflstats.com/2009/01/how-model-works-detailed-example.html."><a href="http://www.advancednflstats.com/2009/01/how-model-works-detailed-example.html">Burke, 2009</a></span>) and some others like the score difference, who starts the second half, and the game day winning percentages of both teams. After exploring the data, I discarded the years 2002 to 2005. Then, I trained a model using the 2006 to 2011 data and did some quick model selection. Note that I&#8217;m not doing the adjustment by opponent the way Burke did it (<span class="showtooltip" title="(2009). Advanced NFL Stats: How the Model Works-A Detailed  Example Part 2.   http://www.advancednflstats.com/2009/01/how-model-works-detailed-example-part-2.html  [Online. last-accessed: 2013-03-24 00:08:23].   http://www.advancednflstats.com/2009/01/how-model-works-detailed-example-part-2.html."><a href="http://www.advancednflstats.com/2009/01/how-model-works-detailed-example-part-2.html">Burke, 2009-2</a></span>) in part because I was running out of time, but also because the model already uses the current game winning percentages of both teams to consider the two team&#8217;s strength. I evaluated the model using the 2012 data and after seeing that it worked decently enough, I trained a second model using the data from 2006 to 2012 so it can be used for the 2013 season. These two trained models are the ones available in the shiny app I made.</p>
<p>In the report, I didn&#8217;t include ROCs—a big miss—so here they go. The code I will show below is heavily based on a post on GLMs (<span class="showtooltip" title="denishaine (2013). Veterinary Epidemiologic Research: GLM  \ Evaluating Logistic Regression Models (part 3).   http://denishaine.wordpress.com/2013/03/19/veterinary-epidemiologic-research-glm-evaluating-logistic-regression-models-part-3/  [Online. last-accessed: 2013-03-23 22:51:49].   http://denishaine.wordpress.com/2013/03/19/veterinary-epidemiologic-research-glm-evaluating-logistic-regression-models-part-3/."><a href="http://denishaine.wordpress.com/2013/03/19/veterinary-epidemiologic-research-glm-evaluating-logistic-regression-models-part-3/">denishaine, 2013</a></span>). The code below is written in a way that you can easily reproduce it if you have cloned my repository for the 140.753 class (<span class="showtooltip" title="lcolladotor (2013). lcollado753.   https://github.com/lcolladotor/lcollado753 [Online.  last-accessed: 2013-03-21 02:23:49].   https://github.com/lcolladotor/lcollado753/tree/master/final/nfl_half."><a href="https://github.com/lcolladotor/lcollado753/tree/master/final/nfl_half">lcollado753</a></span>).</p>
<p>First, some setup steps.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1">## Specify the directory where you cloned the lcollado753 repo</span>
</span></span><span class="line"><span class="cl"><span class="n">maindir</span> <span class="o">&lt;-</span> <span class="s">&#34;whereYouClonedTheRepo&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">## Load packages needed</span>
</span></span><span class="line"><span class="cl"><span class="nf">suppressMessages</span><span class="p">(</span><span class="nf">library</span><span class="p">(</span><span class="n">ROCR</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## Load fits.</span>
</span></span><span class="line"><span class="cl"><span class="c1">## Remember that 1st one used data from 2006 to 2011</span>
</span></span><span class="line"><span class="cl"><span class="c1">## and the 2nd one used data from 2006 to 2012.</span>
</span></span><span class="line"><span class="cl"><span class="nf">load</span><span class="p">(</span><span class="nf">paste0</span><span class="p">(</span><span class="n">maindir</span><span class="p">,</span> <span class="s">&#34;/lcollado753/final/nfl_half/EDA/model/fits.Rdata&#34;</span><span class="p">))</span>
</span></span></code></pre></div><p>Next, I make the ROCs for both trained models using the data that they were trained on. They should be quite good since it uses the same data to build the model that it will then try to predict.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1">## Make the ROC plots</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## Simple list where I&#39;ll store all the results so I can compare the ROC plots later on</span>
</span></span><span class="line"><span class="cl"><span class="n">all</span> <span class="o">&lt;-</span> <span class="nf">list</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## Construct prediction function</span>
</span></span><span class="line"><span class="cl"><span class="kr">for</span><span class="p">(</span><span class="n">i</span> <span class="kr">in</span> <span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">## Predict on the original data</span>
</span></span><span class="line"><span class="cl">	<span class="n">pred</span> <span class="o">&lt;-</span> <span class="nf">predict</span><span class="p">(</span><span class="n">fits[[i]]</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="c1">## Subset original data (remove NA&#39;s)</span>
</span></span><span class="line"><span class="cl">	<span class="n">data</span> <span class="o">&lt;-</span> <span class="n">fits[[i]]</span><span class="o">$</span><span class="n">data</span>
</span></span><span class="line"><span class="cl">	<span class="n">data</span> <span class="o">&lt;-</span> <span class="n">data</span><span class="nf">[complete.cases</span><span class="p">(</span><span class="n">data</span><span class="p">),</span><span class="n">]</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="c1">## Construct prediction function</span>
</span></span><span class="line"><span class="cl">	<span class="n">pred.fn</span> <span class="o">&lt;-</span> <span class="nf">prediction</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">data</span><span class="o">$</span><span class="n">win</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="c1">## Get performance info</span>
</span></span><span class="line"><span class="cl">	<span class="n">perform</span> <span class="o">&lt;-</span> <span class="nf">performance</span><span class="p">(</span><span class="n">pred.fn</span><span class="p">,</span> <span class="s">&#34;tpr&#34;</span><span class="p">,</span> <span class="s">&#34;fpr&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="c1">## Get ready to plot</span>
</span></span><span class="line"><span class="cl">	<span class="n">toPlot</span> <span class="o">&lt;-</span> <span class="nf">data.frame</span><span class="p">(</span><span class="n">tpr</span> <span class="o">=</span> <span class="nf">unlist</span><span class="p">(</span><span class="nf">slot</span><span class="p">(</span><span class="n">perform</span><span class="p">,</span> <span class="s">&#34;y.values&#34;</span><span class="p">)),</span> <span class="n">fpr</span> <span class="o">=</span> <span class="nf">unlist</span><span class="p">(</span><span class="nf">slot</span><span class="p">(</span><span class="n">perform</span><span class="p">,</span> <span class="s">&#34;x.values&#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">	<span class="n">all</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="n">all</span><span class="p">,</span> <span class="nf">list</span><span class="p">(</span><span class="n">toPlot</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">## Make the plot</span>
</span></span><span class="line"><span class="cl">	<span class="n">res</span> <span class="o">&lt;-</span> <span class="nf">ggplot</span><span class="p">(</span><span class="n">toPlot</span><span class="p">)</span> <span class="o">+</span> <span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">fpr</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">tpr</span><span class="p">))</span> <span class="o">+</span> <span class="nf">geom_abline</span><span class="p">(</span><span class="n">intercept</span><span class="o">=</span><span class="m">0</span><span class="p">,</span> <span class="n">slope</span><span class="o">=</span><span class="m">1</span><span class="p">,</span> <span class="n">colour</span><span class="o">=</span><span class="s">&#34;orange&#34;</span><span class="p">)</span> <span class="o">+</span> <span class="nf">ylab</span><span class="p">(</span><span class="s">&#34;Sensitivity&#34;</span><span class="p">)</span> <span class="o">+</span> <span class="nf">xlab</span><span class="p">(</span><span class="s">&#34;1 - Specificity&#34;</span><span class="p">)</span> <span class="o">+</span> <span class="nf">ggtitle</span><span class="p">(</span><span class="nf">paste</span><span class="p">(</span><span class="s">&#34;Years 2006 to&#34;</span><span class="p">,</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;2011&#34;</span><span class="p">,</span> <span class="s">&#34;2012&#34;</span><span class="p">)</span><span class="n">[i]</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nf">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="c1">## Print the AUC value</span>
</span></span><span class="line"><span class="cl">	<span class="nf">print</span><span class="p">(</span><span class="nf">unlist</span><span class="p">(</span><span class="nf">performance</span><span class="p">(</span><span class="n">pred.fn</span><span class="p">,</span> <span class="s">&#34;auc&#34;</span><span class="p">)</span><span class="o">@</span><span class="n">y.values</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><img alt="plot of chunk ROC" src="http://i.imgur.com/b1FS2ml.png"/></p>
```r
## [1] 0.8506
```
<p><img alt="plot of chunk ROC" src="http://i.imgur.com/f2UOySy.png"/></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1">## [1] 0.8513</span>
</span></span></code></pre></div><p>Both ROC plots look pretty similar (well, the data sets are very similar!) and have relatively high AUC values.</p>
<p>Next, I make the ROC plot using the model trained with the data from 2006 to 2011 to predict the outcomes for the 2012 games.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1">## Load 2012 data</span>
</span></span><span class="line"><span class="cl"><span class="nf">load</span><span class="p">(</span><span class="nf">paste0</span><span class="p">(</span><span class="n">maindir</span><span class="p">,</span> <span class="s">&#34;/lcollado753/final/nfl_half/data/pred/info2012.Rdata&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## Predict using model fit with data from 2006 to 2011</span>
</span></span><span class="line"><span class="cl"><span class="n">pred</span> <span class="o">&lt;-</span> <span class="nf">predict</span><span class="p">(</span><span class="n">fits[[1]]</span><span class="p">,</span> <span class="n">info2012</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## Construction prediction function</span>
</span></span><span class="line"><span class="cl"><span class="n">pred.fn</span> <span class="o">&lt;-</span> <span class="nf">prediction</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">info2012</span><span class="o">$</span><span class="n">win</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## Get performance info</span>
</span></span><span class="line"><span class="cl"><span class="n">perform</span> <span class="o">&lt;-</span> <span class="nf">performance</span><span class="p">(</span><span class="n">pred.fn</span><span class="p">,</span> <span class="s">&#34;tpr&#34;</span><span class="p">,</span> <span class="s">&#34;fpr&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## Get ready to plot</span>
</span></span><span class="line"><span class="cl"><span class="n">toPlot</span> <span class="o">&lt;-</span> <span class="nf">data.frame</span><span class="p">(</span><span class="n">tpr</span> <span class="o">=</span> <span class="nf">unlist</span><span class="p">(</span><span class="nf">slot</span><span class="p">(</span><span class="n">perform</span><span class="p">,</span> <span class="s">&#34;y.values&#34;</span><span class="p">)),</span> <span class="n">fpr</span> <span class="o">=</span> <span class="nf">unlist</span><span class="p">(</span><span class="nf">slot</span><span class="p">(</span><span class="n">perform</span><span class="p">,</span> <span class="s">&#34;x.values&#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl"><span class="n">all</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="n">all</span><span class="p">,</span> <span class="nf">list</span><span class="p">(</span><span class="n">toPlot</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## Make the plot</span>
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">toPlot</span><span class="p">)</span> <span class="o">+</span> <span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">fpr</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">tpr</span><span class="p">))</span> <span class="o">+</span> <span class="nf">geom_abline</span><span class="p">(</span><span class="n">intercept</span><span class="o">=</span><span class="m">0</span><span class="p">,</span> <span class="n">slope</span><span class="o">=</span><span class="m">1</span><span class="p">,</span> <span class="n">colour</span><span class="o">=</span><span class="s">&#34;orange&#34;</span><span class="p">)</span> <span class="o">+</span> <span class="nf">ylab</span><span class="p">(</span><span class="s">&#34;Sensitivity&#34;</span><span class="p">)</span> <span class="o">+</span> <span class="nf">xlab</span><span class="p">(</span><span class="s">&#34;1 - Specificity&#34;</span><span class="p">)</span> <span class="o">+</span> <span class="nf">ggtitle</span><span class="p">(</span><span class="s">&#34;Model trained 2006-2011 predicting 2012&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p><img alt="plot of chunk pred2012" src="http://i.imgur.com/DDcsW7W.png"/></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1">## Print the AUC value</span>
</span></span><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="nf">unlist</span><span class="p">(</span><span class="nf">performance</span><span class="p">(</span><span class="n">pred.fn</span><span class="p">,</span> <span class="s">&#34;auc&#34;</span><span class="p">)</span><span class="o">@</span><span class="n">y.values</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="c1">## [1] 0.816</span>
</span></span></code></pre></div><p>The steps in the curve are more visible since it is using less data. It also seems to be a little less good than the other two, as expected. This is clear when comparing the AUC values.</p>
<p>Finally, I plot all curves in the same picture to visually compare them.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">names</span><span class="p">(</span><span class="n">all</span><span class="p">)</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;train2011&#34;</span><span class="p">,</span> <span class="s">&#34;train2012&#34;</span><span class="p">,</span> <span class="s">&#34;pred2012&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kr">for</span><span class="p">(</span><span class="n">i</span> <span class="kr">in</span> <span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">all[[i]]</span> <span class="o">&lt;-</span> <span class="nf">cbind</span><span class="p">(</span><span class="n">all[[i]]</span><span class="p">,</span> <span class="nf">rep</span><span class="p">(</span><span class="nf">names</span><span class="p">(</span><span class="n">all</span><span class="p">)</span><span class="n">[i]</span><span class="p">,</span> <span class="nf">nrow</span><span class="p">(</span><span class="n">all[[i]]</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">	<span class="nf">colnames</span><span class="p">(</span><span class="n">all[[i]]</span><span class="p">)</span><span class="n">[3]</span> <span class="o">&lt;-</span> <span class="s">&#34;set&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">all</span> <span class="o">&lt;-</span> <span class="nf">do.call</span><span class="p">(</span><span class="n">rbind</span><span class="p">,</span> <span class="n">all</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">all</span><span class="p">)</span> <span class="o">+</span> <span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">fpr</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">tpr</span><span class="p">,</span> <span class="n">colour</span><span class="o">=</span><span class="n">set</span><span class="p">))</span> <span class="o">+</span> <span class="nf">geom_abline</span><span class="p">(</span><span class="n">intercept</span><span class="o">=</span><span class="m">0</span><span class="p">,</span> <span class="n">slope</span><span class="o">=</span><span class="m">1</span><span class="p">,</span> <span class="n">colour</span><span class="o">=</span><span class="s">&#34;orange&#34;</span><span class="p">)</span> <span class="o">+</span> <span class="nf">ylab</span><span class="p">(</span><span class="s">&#34;Sensitivity&#34;</span><span class="p">)</span> <span class="o">+</span> <span class="nf">xlab</span><span class="p">(</span><span class="s">&#34;1 - Specificity&#34;</span><span class="p">)</span> <span class="o">+</span> <span class="nf">ggtitle</span><span class="p">(</span><span class="s">&#34;Comparing ROCs&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p><img alt="plot of chunk allInOne" src="http://i.imgur.com/tUVfgfs.png"/></p>
<p>Both ROCs with the trained data (train2011, train2012) are nearly identical and both are slightly superior to the one predicting the 2012 games.</p>
<p>Overall I am happy with the results and while some things can certainly be improved, I look forward to the NFL 2013 season. Also, remember that Burke publishes his winning estimated probabilities from week 4 onward (<span class="showtooltip" title="BURKE BB (2013). Brian Burke - The Fifth Down Blog -  NYTimes.com.   http://fifthdown.blogs.nytimes.com/author/brian-burke/ [Online.  last-accessed: 2013-03-24 00:26:32].   http://fifthdown.blogs.nytimes.com/author/brian-burke/."><a href="http://fifthdown.blogs.nytimes.com/author/brian-burke/">The Fifth Down Blog</a></span>). So you might be interested on comparing the probability at half time versus his estimated probability which is calculated before the game starts. I mean, maybe you could use the difference between the two to have an idea of how unexpected the first half was. After all, if a game falls outside the pattern it might be worth watching.</p>
<p>Citations made with <code>knitcitations</code> (<span class="showtooltip" title="Boettiger C (2013). _knitcitations: Citations for knitr markdown  files_. R package version 0.4-4,   https://github.com/cboettig/knitcitations."><a href="https://github.com/cboettig/knitcitations">Boettiger, 2013</a></span>).</p>
<ul><li>lcolladotor, lcollado753. <em>GitHub</em> <a href="https://github.com/lcolladotor/lcollado753/tree/master/final/nfl_half"><a href="https://github.com/lcolladotor/lcollado753/tree/master/final/nfl_half">https://github.com/lcolladotor/lcollado753/tree/master/final/nfl_half</a></a></li>
<li>denishaine, (2013) Veterinary Epidemiologic Research: GLM &amp;ndash; Evaluating Logistic Regression Models (part 3). <em>denis haine</em> <a href="http://denishaine.wordpress.com/2013/03/19/veterinary-epidemiologic-research-glm-evaluating-logistic-regression-models-part-3/"><a href="http://denishaine.wordpress.com/2013/03/19/veterinary-epidemiologic-research-glm-evaluating-logistic-regression-models-part-3/">http://denishaine.wordpress.com/2013/03/19/veterinary-epidemiologic-research-glm-evaluating-logistic-regression-models-part-3/</a></a></li>
<li>Advanced NFL Stats. <a href="http://www.advancednflstats.com/"><a href="http://www.advancednflstats.com/">http://www.advancednflstats.com/</a></a></li>
<li>(2010) Advanced NFL Stats: Play-by-Play Data. <a href="http://www.advancednflstats.com/2010/04/play-by-play-data.html"><a href="http://www.advancednflstats.com/2010/04/play-by-play-data.html">http://www.advancednflstats.com/2010/04/play-by-play-data.html</a></a></li>
<li>(2009) Advanced NFL Stats: How the Model Works–A Detailed Example Part 1. <a href="http://www.advancednflstats.com/2009/01/how-model-works-detailed-example.html"><a href="http://www.advancednflstats.com/2009/01/how-model-works-detailed-example.html">http://www.advancednflstats.com/2009/01/how-model-works-detailed-example.html</a></a></li>
<li>(2009) Advanced NFL Stats: How the Model Works–A Detailed Example Part 2. <a href="http://www.advancednflstats.com/2009/01/how-model-works-detailed-example-part-2.html"><a href="http://www.advancednflstats.com/2009/01/how-model-works-detailed-example-part-2.html">http://www.advancednflstats.com/2009/01/how-model-works-detailed-example-part-2.html</a></a></li>
<li>By BURKE, Brian Burke - The Fifth Down Blog - NYTimes.com. <em>The Fifth Down Â» Brian Burke</em> <a href="http://fifthdown.blogs.nytimes.com/author/brian-burke/"><a href="http://fifthdown.blogs.nytimes.com/author/brian-burke/">http://fifthdown.blogs.nytimes.com/author/brian-burke/</a></a></li>
<li>Carl Boettiger, knitcitations: Citations for knitr markdown files. <a href="https://github.com/cboettig/knitcitations"><a href="https://github.com/cboettig/knitcitations">https://github.com/cboettig/knitcitations</a></a></li>
<li>RStudio , Inc. , (2013) shiny: Web Application Framework for R. <a href="http://CRAN.R-project.org/package=shiny"><a href="http://CRAN.R-project.org/package=shiny">http://CRAN.R-project.org/package=shiny</a></a></li>
</ul>

    </div>

    





<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/nfl/">NFL</a>
  
  <a class="badge badge-light" href="/tag/prediction/">Prediction</a>
  
</div>



<div class="share-box">
  <ul class="share">
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flcolladotor.github.io%2F2013%2F03%2F23%2FPredicting-who-will-win-a-NFL-match-at-half-time%2F&amp;text=Predicting&#43;who&#43;will&#43;win&#43;a&#43;NFL&#43;match&#43;at&#43;half&#43;time" target="_blank" rel="noopener" class="share-btn-twitter" aria-label="twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Flcolladotor.github.io%2F2013%2F03%2F23%2FPredicting-who-will-win-a-NFL-match-at-half-time%2F&amp;t=Predicting&#43;who&#43;will&#43;win&#43;a&#43;NFL&#43;match&#43;at&#43;half&#43;time" target="_blank" rel="noopener" class="share-btn-facebook" aria-label="facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
        
      
      <li>
        <a href="mailto:?subject=Predicting%20who%20will%20win%20a%20NFL%20match%20at%20half%20time&amp;body=https%3A%2F%2Flcolladotor.github.io%2F2013%2F03%2F23%2FPredicting-who-will-win-a-NFL-match-at-half-time%2F" target="_blank" rel="noopener" class="share-btn-email" aria-label="envelope">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Flcolladotor.github.io%2F2013%2F03%2F23%2FPredicting-who-will-win-a-NFL-match-at-half-time%2F&amp;title=Predicting&#43;who&#43;will&#43;win&#43;a&#43;NFL&#43;match&#43;at&#43;half&#43;time" target="_blank" rel="noopener" class="share-btn-linkedin" aria-label="linkedin-in">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="whatsapp://send?text=Predicting&#43;who&#43;will&#43;win&#43;a&#43;NFL&#43;match&#43;at&#43;half&#43;time%20https%3A%2F%2Flcolladotor.github.io%2F2013%2F03%2F23%2FPredicting-who-will-win-a-NFL-match-at-half-time%2F" target="_blank" rel="noopener" class="share-btn-whatsapp" aria-label="whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https%3A%2F%2Flcolladotor.github.io%2F2013%2F03%2F23%2FPredicting-who-will-win-a-NFL-match-at-half-time%2F&amp;title=Predicting&#43;who&#43;will&#43;win&#43;a&#43;NFL&#43;match&#43;at&#43;half&#43;time" target="_blank" rel="noopener" class="share-btn-weibo" aria-label="weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  



  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="https://lcolladotor.github.io/"><img class="avatar mr-3 avatar-circle" src="/authors/admin/avatar_hu61670ae1305c5c407abf5eedc95c7971_127149_270x270_fill_q75_lanczos_center.JPG" alt="Leonardo Collado-Torres"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://lcolladotor.github.io/">Leonardo Collado-Torres</a></h5>
      <h6 class="card-subtitle">Investigator @ LIBD, Assistant Professor, Department of Biostatistics @ JHBSPH</h6>
      <p class="card-text"><a href="https://twitter.com/search?q=%23rstats&amp;src=hashtag_click" target="_blank" rel="noopener">#rstats</a> <a href="https://twitter.com/Bioconductor" target="_blank" rel="noopener">@Bioconductor</a>/🧠 genomics <a href="https://twitter.com/LieberInstitute" target="_blank" rel="noopener">@LieberInstitute</a>/<a href="https://twitter.com/lcgunam" target="_blank" rel="noopener">@lcgunam</a> <a href="https://twitter.com/jhubiostat" target="_blank" rel="noopener">@jhubiostat</a> <a href="https://twitter.com/jtleek" target="_blank" rel="noopener">@jtleek</a> <a href="https://twitter.com/andrewejaffe" target="_blank" rel="noopener">@andrewejaffe</a> alumni/<a href="https://twitter.com/LIBDrstats" target="_blank" rel="noopener">@LIBDrstats</a> <a href="https://twitter.com/CDSBMexico" target="_blank" rel="noopener">@CDSBMexico</a> co-founder</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
    <li>
      <a href="mailto:lcolladotor@gmail.com" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="http://lcolladotor.github.io" target="_blank" rel="noopener">
        <i class="fas fa-home"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/lcolladotor" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.youtube.com/@lcolladotor/playlists" target="_blank" rel="noopener">
        <i class="fab fa-youtube"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?user=h57-MykAAAAJ" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/lcolladotor" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="http://orcid.org/0000-0003-2140-308X" target="_blank" rel="noopener">
        <i class="ai ai-orcid"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://www.ncbi.nlm.nih.gov/myncbi/leonardo.collado%20torres.1/bibliography/public/" target="_blank" rel="noopener">
        <i class="ai ai-pubmed"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://impactstory.org/u/0000-0003-2140-308X" target="_blank" rel="noopener">
        <i class="ai ai-impactstory"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/in/lcollado/" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://publons.com/a/1262671" target="_blank" rel="noopener">
        <i class="ai ai-publons"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="http://lcolladotor.github.io/cv/en_CV_lcollado.pdf" target="_blank" rel="noopener">
        <i class="ai ai-cv"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>









  
  
  

  

  
  <section id="comments">
    
<div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    
    
    
  };
  (function() {
    if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
      document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
      return;
    }
    var d = document, s = d.createElement('script'); s.async = true;
    s.src = 'https://' + "fellgernonbit" + '.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


  </section>
  










  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">

  












  
  
  
  
  













  
  
  

  
  
    
  
  
    
  

  

  
  <p class="powered-by copyright-license-text">
    All thoughts and opinions here are my own (Leonardo Collado Torres). The icon was designed by <a href="https://www.linkedin.com/in/mauricio-guzman-6529b551/" target="_blank" rel="noopener">Mauricio Guzmán</a> and is inspired by <a href="https://en.wikipedia.org/wiki/Huichol" target="_blank" rel="noopener">Huichol culture</a>; it represents my community building interests. © 2011-2024 LCT. This work is licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0" rel="noopener noreferrer" target="_blank">CC BY NC SA 4.0</a>
  </p>
  

  <p class="powered-by footer-license-icons">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0" rel="noopener noreferrer" target="_blank" aria-label="Creative Commons">
      <i class="fab fa-creative-commons fa-2x" aria-hidden="true"></i>
      <i class="fab fa-creative-commons-by fa-2x" aria-hidden="true"></i>
      
        <i class="fab fa-creative-commons-nc fa-2x" aria-hidden="true"></i>
      
      
        <i class="fab fa-creative-commons-sa fa-2x" aria-hidden="true"></i>
      
    </a>
  </p>




  
  <p>
      
      
      <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4ef23e545d41b87c"></script>
      
      

      <script type="text/javascript">
      var addthis_config = {
      	data_ga_property: 'UA-45299226-1',
      	data_ga_social : true,
      	data_track_addressbar: true,
        data_track_addressbar_paths: ['/201*/*/*/*/*']
      };
      var addthis_share = {
      	
      	url_transforms : {
      		shorten: {
      			twitter: 'bitly'
      		}
      	}, 
      	shorteners : {
      		bitly : {}
      	}
      }
      </script>
      
      <center>	 
      <div id="clustrmaps-widget"></div><script type='text/javascript' id='clustrmaps' src='//cdn.clustrmaps.com/map_v2.js?cl=ffffff&w=300&t=m&d=Zo-deincaJGsqhqjIWsujtdoNOMJsnnZLefKmxDKVv8&co=124b73&cmo=dd53ff&cmn=4ec724'></script>
      </center>
  </p>
  

  <p class="powered-by">
    
    
    
      
      
      
      
      
      
      Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Wowchemy</a> — the free, <a href="https://github.com/wowchemy/wowchemy-hugo-themes" target="_blank" rel="noopener">open source</a> website builder that empowers creators.
    
  </p>
</footer>

    </div>
    
  </div>

  


<script src="/js/vendor-bundle.min.938a3a7554cd9f6602290411f64d2617.js"></script>




  

  
  

  






  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.js" integrity="" crossorigin="anonymous"></script>








  
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
  
    <script src="https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
  









  <script id="dsq-count-scr" src="https://fellgernonbit.disqus.com/count.js" async></script>




  
  
  
  
  
  
  







<script id="page-data" type="application/json">{"use_headroom":true}</script>



  <script src="/js/wowchemy-headroom.db4755770454eb63685f8de785c0a172.js" type="module"></script>









  
  


<script src="/en/js/wowchemy.min.2945731fa88332cb0ec33cf47d29879f.js"></script>



  <script src="/js/wowchemy-map.a26e9d2f7238ba5b868384f1c5bc6477.js" type="module"></script>




  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        
        <pre><code></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>


  <script src="/js/wowchemy-publication.af9327db0521d4a01354bfc8b77a4324.js" type="module"></script>


















</body>
</html>
