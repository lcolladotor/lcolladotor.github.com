<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.2.5">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Leonardo Collado-Torres">

  
  
  
    
  
  <meta name="description" content="To be able to do RNA-seq research work in large multi-sample studies you have to be able to analyze large files and thus frequently use a powerful computing environment. In my case, this means that I have to login to a computing cluster frequently. This is a common task for other biostatisticians (like those that do brain imagining studies) and many other people. When I am working on a project, I generally have to login to the cluster and then change the directory to the location where I have my project files.">

  
  <link rel="alternate" hreflang="en-us" href="/2013/12/11/quick-cluster-login-to-interactive-session/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#e51744">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai.min.css" crossorigin="anonymous" title="hl-light">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai.min.css" crossorigin="anonymous" title="hl-dark" disabled>
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin="anonymous">
    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono|Karma|Mina">
  

  
  
  
  <link rel="stylesheet" href="/css/academic.min.ee5e918d0f823e2ea74822d29f18b4a4.css">

  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-45299226-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/2013/12/11/quick-cluster-login-to-interactive-session/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@fellgernon">
  <meta property="twitter:creator" content="@fellgernon">
  
  <meta property="og:site_name" content="L. Collado-Torres">
  <meta property="og:url" content="/2013/12/11/quick-cluster-login-to-interactive-session/">
  <meta property="og:title" content="Login to the cluster, request a node and change to your project directory in a single command | L. Collado-Torres">
  <meta property="og:description" content="To be able to do RNA-seq research work in large multi-sample studies you have to be able to analyze large files and thus frequently use a powerful computing environment. In my case, this means that I have to login to a computing cluster frequently. This is a common task for other biostatisticians (like those that do brain imagining studies) and many other people. When I am working on a project, I generally have to login to the cluster and then change the directory to the location where I have my project files."><meta property="og:image" content="/img/icon-192.png">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2013-12-11T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2018-02-17T17:10:57-05:00">
  

  

  

  <title>Login to the cluster, request a node and change to your project directory in a single command | L. Collado-Torres</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">L. Collado-Torres</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#publications">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#talks_favorite">
            
            <span>Talks</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#blog">
            
            <span>Blog</span>
            
          </a>
        </li>

        
        

        

        
        
        

        <li class="nav-item">
          <a class="nav-link" href="/#cv">
            
            <span>CV</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#mentoring">
            
            <span>Mentoring</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#teaching">
            
            <span>Teaching</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name">Login to the cluster, request a node and change to your project directory in a single command</h1>

  

  
    



<meta content="2013-12-11 00:00:00 &#43;0000 UTC" itemprop="datePublished">
<meta content="2018-02-17 17:10:57 -0500 EST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
          Last updated on
      
    
    <time>Feb 17, 2018</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    7 min read
  </span>
  

  
  
  <span class="middot-divider"></span>
  <a href="/2013/12/11/quick-cluster-login-to-interactive-session/#disqus_thread"></a>
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder"></i>
    <a href="/categories/computing/">Computing</a></span>
  

  
    
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=&amp;url="
         target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u="
         target="_blank" rel="noopener">
        <i class="fab fa-facebook-f"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=&amp;title="
         target="_blank" rel="noopener">
        <i class="fab fa-linkedin-in"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=&amp;title="
         target="_blank" rel="noopener">
        <i class="fab fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=&amp;body=">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    
















  
</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      

<p>To be able to do RNA-seq research work in large multi-sample studies you have to be able to analyze large files and thus frequently use a powerful computing environment. In my case, this means that I have to login to a <a href="http://en.wikipedia.org/wiki/Computer_cluster" target="_blank">computing cluster</a> frequently. This is a common task for other biostatisticians (like those that do brain imagining studies) and many other people. When I am working on a project, I generally have to login to the cluster and then change the directory to the location where I have my project files.</p>

<p>A local cluster is normally composed of a login machine (enigma2 in my case) from where you can request to work on a node. There are several options for controlling this process of requesting a node, and in our institution we use a <a href="http://en.wikipedia.org/wiki/Oracle_Grid_Engine" target="_blank">Sun/Oracle Grid Engine</a>. When a cluster has a lot of users, you want to dedicate the login machine as much as possible to handling login requests and assigning nodes for people to use. This means that you want to minimize doing any other kind of operations on the login machine, such as input/output operations.</p>

<h2 id="basic-workflow">Basic workflow</h2>

<p>This means that the steps I normally follow before getting to work on my project are:</p>

<pre><code class="language-bash">
## Open the terminal
## Login to enigma
ssh username@enigma2.etc.edu

## Request a node to work on interactively
qrsh

## Change to the directory where I have my project files
cd projectDir

## Done!
</code></pre>

<p>For a long time I have used an <a href="http://en.wikipedia.org/wiki/Alias_(command)" target="_blank">alias</a> for the login step. I have this alias in my local <code>.bashrc</code> file:</p>

<pre><code class="language-bash">
## In local .bashrc file
alias enigma=&quot;ssh username@enigma2.etc.edu&quot;
</code></pre>

<p>Thus saving a tiny bit of typing:</p>

<pre><code class="language-bash">
## Open terminal
## Login to enigma
enigma
## Etc
qrsh
cd projectDir
</code></pre>

<p>When the <code>projectDir</code> gets complicated, I make an <code>alias</code> on my <code>.bashrc</code> file on the cluster. For example:</p>

<pre><code class="language-bash">
## In cluster .bashrc file
alias pdir=&quot;cd /very/complicated/path/to/projectDir/&quot;
</code></pre>

<p>And finally, I can accomplish the setup task with minimal typing:</p>

<pre><code class="language-bash">
## Open terminal
enigma
qrsh
pdir
</code></pre>

<h2 id="using-ssh-config">Using ssh config</h2>

<p>This section was added after Kasper Hansen&rsquo;s comment.</p>

<p>You can edit the ~.ssh/config file (check <a href="http://www.howtogeek.com/75007/stupid-geek-tricks-use-your-ssh-config-file-to-create-aliases-for-hosts/" target="_blank">how to set it up</a>, <a href="http://nerderati.com/2011/03/simplify-your-life-with-an-ssh-config-file/" target="_blank">explained differently</a> and the <a href="http://linux.die.net/man/5/ssh_config" target="_blank">manual</a>) to make things even better. This is how mine looks like:</p>

<pre><code class="language-bash">
Host enigma
	User username
    Hostname enigma2.etc.edu
	ForwardX11 yes
</code></pre>

<p>I like the ssh <code>-X</code> (or <code>-Y</code>) option so I can later view plots in X11 when running <code>R</code>. That is why the <strong>ForwardX11</strong> option is present.</p>

<p>Then you can use the following command to ssh into the cluster.</p>

<pre><code class="language-bash">
ssh enigma
</code></pre>

<p>Or if you prefer, simplify the bash alias to:</p>

<pre><code class="language-bash">
## In local .bashrc file
alias enigma=&quot;ssh enigma&quot;
</code></pre>

<p>The sections below have been edited to assume that you are configured the <strong>enigma</strong> host shortcut in your ~.ssh/config file.</p>

<h2 id="needed-a-new-strategy">Needed a new strategy</h2>

<p>The previous strategy works and I had been very comfortable with it. However, at times you might forget to request a node from the cluster to do your work interactively. This is specially true for me when I only plan on using a few <code>git</code> commands. But when many users forget this, it becomes a problem and our cluster manager had to send us a reminder:</p>

<pre><code>*ALWAYS* work on a cluster node rather than on enigma2.
Enigma2 is a *single machine* with many people trying to use it to gain access to the cluster.
Even for tar commands, cp commands, wc commands ... first qrsh to a node.
</code></pre>

<h2 id="profiles-in-iterm2-http-www-iterm2-com">Profiles in <a href="http://www.iterm2.com/" target="_blank">iTerm2</a></h2>

<p>Just a few days after we got this reminder, I decided to take a look at the <a href="http://www.iterm2.com/" target="_blank">iTerm2</a> profile menu. There are plenty of options for customizing your terminal, but the ones I mainly ended up using are:</p>

<ol>
<li><code>Working directory</code> -&gt; <code>Directory :</code> -&gt; choose a directory in my laptop. Generally the location of my <code>git</code> repository for version controlling the code of a given project.</li>
<li><code>Command</code> -&gt; <code>Send text at start</code> -&gt; an alias from my local <code>.bashrc</code> file as shown in the image below (the alias is <strong>qr</strong>).</li>
</ol>

<p><center>
<a href="http://lcolladotor.github.io/figs/2013-12-11-quick-cluster-login-to-interactive-session/iTerm2-profile-cluster.png"><img src="http://lcolladotor.github.io/figs/2013-12-11-quick-cluster-login-to-interactive-session/iTerm2-profile-cluster.png" alt="iTerm2 cluster profile screenshot" style="width: 400px;"/></a>
</center></p>

<p>The first case above is nice, but the real power comes from the second case. Since I can pretty much evaluate any command, I asked myself if I could set up a profile that automatically logs in to the cluster? Can it also request a node interactively? And even go to my project directory?</p>

<h2 id="cluster-qr-alias">cluster <code>qr</code> alias</h2>

<p>I then remembered that <a href="https://github.com/syounkin" target="_blank">Samuel Younkin</a> explained to us how to set up <strong>qrsh</strong> to automatically change the directory to the directory from which you invoked <strong>qrsh</strong> (<span class="showtooltip" title="(2013). 'BiocHopkins.' ."><a href="http://bit.ly/19zLZeD">Younkin, 2013</a></span>). I modified things a little bit and saved this qrsh version as the <code>qr</code> alias on the cluster:</p>

<pre><code class="language-bash">
## In cluster .bashrc file

## change dir automatically when using qrsh
## Details: https://github.com/rkostadi/BiocHopkins/wiki/Useless-Tips-&amp;-Code-Snippets
if [ -f ~/.bash_pwd ]; then
    source ~/.bash_pwd
    rm ~/.bash_pwd
fi
alias qr='echo &quot;cd $PWD&quot; &gt; ~/.bash_pwd; history -w; qrsh'
</code></pre>

<p>Note that I tried using the <code>qrsh -ac</code> option, but couldn&rsquo;t get to pass a variable. Doing so in theory would remove the need to create the <strong>.bash_pwd</strong> temporary file.</p>

<h2 id="ssh-and-change-dir-in-one-command">ssh and change dir in one command</h2>

<p>Then googling I found how to <strong>ssh</strong> and change directory in one command (<span class="showtooltip" title="Frosty (2009). 'How can I ssh directly to a particular directory?' ."><a href="http://stackoverflow.com/questions/626533/how-can-i-ssh-directly-to-a-particular-directory">Frosty, 2009</a></span>):</p>

<pre><code class="language-bash">
ssh -t enigma 'cd /very/complicated/path/to/projectDir/; bash'
</code></pre>

<p>The problem I soon encountered was that I couldn&rsquo;t <strong>qrsh</strong> right after because the command was not been found. Some setup files are not been read even after using <code>bash -l</code> like shown here:</p>

<pre><code class="language-bash">
ssh -t enigma 'cd /very/complicated/path/to/projectDir/; bash -l'
</code></pre>

<h2 id="local-qr-alias">local <code>qr</code> alias</h2>

<p>With our cluster administrator&rsquo;s help, I was finally able to find how to do all of this in a single command:</p>

<pre><code class="language-bash">
## Requires the code by Sam Younkin to work (or the version I modified)
ssh -t enigma 'cd /very/complicated/path/to/projectDir/; source /etc/profile; echo &quot;cd $PWD&quot; &gt; ~/.bash_pwd; history -w; qrsh'
</code></pre>

<p>Finally, I created the <code>qr</code> alias in my local machine. This alias:</p>

<ol>
<li>performs the ssh connection to the login machine of our cluster (enigma2),</li>
<li>then changes the directory to the project directory,</li>
<li>loads the necessary setup files so <strong>qrsh</strong> can be found on the path,</li>
<li>creates the temporary <strong>.bash_pwd</strong> file (you could even make this more concise by echoing the directory of interest to the temp file),</li>
<li>saves the command history as recommended by <a href="https://github.com/syounkin" target="_blank">Samuel Younkin</a>,</li>
<li>requests an interactive node (with your default settings) by executing <strong>qrsh</strong>.</li>
</ol>

<pre><code class="language-bash">
## In local .bashrc file

# qrsh
alias qr=&quot;ssh -t enigma 'cd /very/complicated/path/to/projectDir/; source /etc/profile; echo \&quot;cd \$PWD\&quot; &gt; ~/.bash_pwd; qrsh'&quot;
</code></pre>

<p>Note the use of the backslash to delay the execution of <code>$PWD</code>. I want it to be executed on the cluster, not on my local machine.</p>

<h2 id="glory">Glory!</h2>

<p>So now using <a href="http://www.iterm2.com/" target="_blank">iTerm2</a> I can simply use the shortcut for my <em>cluster</em> profile which runs the local <code>qr</code> alias and the next thing I have is a terminal with an interactive session on the cluster and located in my project directory. Sweet! =)</p>

<p>Plus I also have the cluster <code>qr</code> alias for doing what <a href="https://github.com/syounkin" target="_blank">Samuel Younkin</a> previously described.</p>

<h3 id="can-do-it-better">Can do it better?</h3>

<p>If you have suggestions on how to improve this, let me know!</p>

<h3 id="extra-aliases">Extra aliases</h3>

<p>The following two aliases take your local current directory basename and use it for accessing /very/complicated/path/to/projectDir/<strong>basename</strong>. This is useful if you use an organization similar to mine:</p>

<ul>
<li>Projects dir

<ul>
<li>Project 1 dir</li>
<li>Project 2 dir
<br /></li>
</ul></li>
</ul>

<p>The full paths are different in my computer and in the cluster, but once you are in  /very/complicated/path/to/projectDir/
it is all the same on both locations.</p>

<p>The first one runs <strong>qrsh</strong> while the second one doesn&rsquo;t request a node for interactive work.</p>

<pre><code class="language-bash">
## In local .bashrc file

## qrsh-basename
alias qs='LEODIR=`basename $PWD`; ssh -t enigma &quot;cd /very/complicated/path/to/projectDir/$LEODIR/; source /etc/profile; echo \&quot;cd \$PWD\&quot; &gt; ~/.bash_pwd; history -w; qrsh&quot;'
## basename, but no qrsh
alias qq='LEODIR=`basename $PWD`; ssh -t enigma &quot;cd /very/complicated/path/to/projectDir/$LEODIR/; source /etc/profile; echo \&quot;cd \$PWD\&quot; &gt; ~/.bash_pwd; history -w; bash&quot;'
</code></pre>

<h3 id="references">References</h3>

<p>Citations made with <code>knitcitations</code> (<span class="showtooltip" title="Boettiger C (2013). knitcitations: Citations for knitr markdown files. R package version 0.4-7."><a href="http://CRAN.R-project.org/package=knitcitations">Boettiger, 2013</a></span>).</p>

<ul>
<li>Frosty,   (2009) How can I ssh directly to a particular directory?.  <em>How can I ssh directly to a particular directory? - Stack Overflow</em>  <a href="http://stackoverflow.com/questions/626533/how-can-i-ssh-directly-to-a-particular-directory" target="_blank">http://stackoverflow.com/questions/626533/how-can-i-ssh-directly-to-a-particular-directory</a></li>
<li>BiocHopkins.  <em>GitHub</em>  <a href="http://bit.ly/19zLZeD" target="_blank">http://bit.ly/19zLZeD</a></li>
<li>Carl Boettiger,   (2013) knitcitations: Citations for knitr markdown files.  <a href="http://CRAN.R-project.org/package=knitcitations" target="_blank">http://CRAN.R-project.org/package=knitcitations</a></li>
</ul>

<h3 id="recap">Recap</h3>

<p>If you got lost, these are the basic modifications you need to make to your local and cluster <code>.bashrc</code> files.</p>

<script src="https://gist.github.com/lcolladotor/7897221.js"></script>

<p>Check the history of this post <a href="https://github.com/lcolladotor/lcolladotor.github.com/commits/master/_posts/2013-12-11-quick-cluster-login-to-interactive-session.md" target="_blank">here</a>.</p>

    </div>

    

<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/cluster/">cluster</a>
  
</div>



    
      






  







<div class="media author-card" itemscope itemtype="http://schema.org/Person">
  
  
  <img class="portrait mr-3" src="/author/admin/avatar_hub02ca7f9e3655ab17e4aaab23e8769df_150735_250x250_fill_q90_lanczos_center.jpg" itemprop="image" alt="Avatar">
  

  <div class="media-body">
    <h5 class="card-title" itemprop="name"><a href="/authors/admin">Leonardo Collado-Torres</a></h5>
    <h6 class="card-subtitle">Staff Scientist II</h6>
    <p class="card-text" itemprop="description">Brain genomics #rstats coder working w/ @andrewejaffe @LieberInstitute. @lcgunam @jhubiostat @jtleek alumni. @LIBDrstats @CDSBMexico co-founder.</p>
    <ul class="network-icon" aria-hidden="true">
      
      
      
      
        
      
      
      
      
      
      <li>
        <a itemprop="sameAs" href="mailto:lcolladotor@gmail.com" >
          <i class="fas fa-envelope"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="http://lcolladotor.github.io" target="_blank" rel="noopener">
          <i class="fas fa-home"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://twitter.com/fellgernon" target="_blank" rel="noopener">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
      
      
      
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://scholar.google.com/citations?user=h57-MykAAAAJ" target="_blank" rel="noopener">
          <i class="ai ai-google-scholar"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://github.com/lcolladotor" target="_blank" rel="noopener">
          <i class="fab fa-github"></i>
        </a>
      </li>
      
      
      
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="http://orcid.org/0000-0003-2140-308X" target="_blank" rel="noopener">
          <i class="ai ai-orcid"></i>
        </a>
      </li>
      
      
      
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://impactstory.org/u/0000-0003-2140-308X" target="_blank" rel="noopener">
          <i class="ai ai-impactstory"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://www.linkedin.com/in/lcollado/" target="_blank" rel="noopener">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
      
      
      
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://publons.com/a/1262671" target="_blank" rel="noopener">
          <i class="ai ai-publons"></i>
        </a>
      </li>
      
      
      
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="http://lcolladotor.github.io/cv/en_CV_lcollado.pdf" target="_blank" rel="noopener">
          <i class="ai ai-cv"></i>
        </a>
      </li>
      
    </ul>
  </div>
</div>



      
      
      <div class="article-widget">
        <div class="hr-light"></div>
        <h3>Related</h3>
        <ul>
          
          <li><a href="/2013/04/26/using-plyr-and-domc-for-quick-and-easy-apply-family/">Using plyr and doMC for quick and easy apply-family functions</a></li>
          
        </ul>
      </div>
      
    

    

    
<section id="comments">
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "fellgernonbit" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>



  </div>
</article>

<div class="container">
  <footer class="site-footer">
  
  
  <p class="powered-by">
      
      
      <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4ef23e545d41b87c"></script>
      
      

      <script type="text/javascript">
      var addthis_config = {
      	data_ga_property: 'UA-45299226-1',
      	data_ga_social : true,
      	data_track_addressbar: true,
        data_track_addressbar_paths: ['/201*/*/*/*/*']
      };
      var addthis_share = {
      	
      	url_transforms : {
      		shorten: {
      			twitter: 'bitly'
      		}
      	}, 
      	shorteners : {
      		bitly : {}
      	}
      }
      </script>
      
      <center>	 
      <div id="clustrmaps-widget"></div><script type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?d=Zo-deincaJGsqhqjIWsujtdoNOMJsnnZLefKmxDKVv8"></script>
      </center>
  </p>

  <p class="powered-by">
    &copy; 2011-2019 Leonardo Collado Torres under (CC) BY-NC-SA 4.0. All thoughts and opinions here are my own. Icon is the <a href="https://www.r-project.org/logo/" target="_blank">R logo</a> modified &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bash.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/stata.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin="anonymous"></script>
    

    
    
    
    <script id="dsq-count-scr" src="//fellgernonbit.disqus.com/count.js" async></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.d813ae958640746e240f434cafc95afb.js"></script>

  </body>
</html>

